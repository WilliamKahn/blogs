## 二、界面

### 1.采样迭代步数

输出画面需要的步数，每一次采样步数都是在上一次的迭代步骤基础上绘制生成一个新的图片，一般来说采样迭代步数保持在18-30左右即可，低的采样步数会导致画面计算不完整，高的采样步数仅在细节处进行优化，对比输出速度得不偿失。

### 2.采样方法

常用的有三种，分别是Euler a，DPM++2S a Karras和DDI

**Euler a：**

i. Euler a是一种用于控制时间步长大小的可调参数，在Stable Diffusion中采用Euler时间步长采样方法。适当的Euler a值能够捕捉到细节和纹理，但如果值太大会导致过度拟合，生成图像出现噪点等不良效果。

ii. 一句话概括：采样生成速度最快，但是如果说在高细节图增加采样步数时，会产生不可控突变（如人物脸扭曲，细节扭曲等）。

适合：ICON，二次元图像，小场景。

![img](https://image.woshipm.com/2023/04/24/cb3d2908-e26c-11ed-836c-00163e0b5ff3.png)

**DPM++2S a Karras ：**

i. 采用 DPM++2S a Karras 采样方法生成高质量图像，该方法在每个时间步长中执行多次操作，同等分辨率下细节会更多，比如可以在小图下塞进全身，代价是采样速度更慢。

ii. 适合：写实人像，复杂场景刻画。

下图展示elura a同提示词不同步幅下的输出图像，可以看到步幅越高，细节刻画越好。

![img](https://image.woshipm.com/2023/04/24/de60df66-e26c-11ed-836c-00163e0b5ff3.png)

**DDIM**

i. DDIM 采样方法可以快速生成高质量的图像，相比其他采样方法具有更高的效率，想尝试超高步数时可以使用，随着步数增加可以叠加细节。

ii. 适合：写实人像，复杂场景刻画。

下图为大家展示DDIM同提示词不同步幅下的输出图像，可以看到随着步幅的提高，细节和丰富度逐渐提高。

![img](https://image.woshipm.com/2023/04/24/f2691870-e26c-11ed-8c43-00163e0b5ff3.png)

### 3. 提示词相关性

Stable Diffusion中的提示词相关性指的是输入提示词对生成图像的影响程度。当我们提高提示词相关性时，生成的图像将更符合提示信息的样子；相反，如果提示词相关性较低，对应的权重也较小，则生成的图像会更加随机。因此，通过调整提示词相关性，可以引导模型生成更符合预期的样本，从而提高生成的样本质量。

i. 在具体应用中，对于人物类的提示词，一般将提示词相关性控制在7-15之间。

ii. 而对于建筑等大场景类的提示词，一般控制在3-7左右。这样可以在一定程度上突出随机性，同时又不会影响生成图像的可视化效果。因此，提示词相关性可以帮助我们通过引导模型生成更符合预期的样本，从而提高生成的样本质量。

## 三、Checkpoint，VAE，embedding和lora的使用详解

### 1. 安装路径自查

![img](https://image.woshipm.com/2023/04/24/46909338-e26d-11ed-8c43-00163e0b5ff3.png)